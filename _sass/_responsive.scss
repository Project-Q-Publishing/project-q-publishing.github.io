// Project Q Publishing - Responsive Utilities
// Mobile-first responsive system with utilities and mixins

// =============================================================================
// RESPONSIVE MIXINS
// =============================================================================

// Mobile-first media query mixins
@mixin mobile-only {
  @media screen and (max-width: $breakpoint-mobile) {
    @content;
  }
}

@mixin tablet-up {
  @media screen and (min-width: $breakpoint-mobile + 1px) {
    @content;
  }
}

@mixin tablet-only {
  @media screen and (min-width: $breakpoint-mobile + 1px) and (max-width: $breakpoint-desktop - 1px) {
    @content;
  }
}

@mixin desktop-up {
  @media screen and (min-width: $breakpoint-desktop) {
    @content;
  }
}

@mixin wide-up {
  @media screen and (min-width: $breakpoint-wide) {
    @content;
  }
}

// Custom breakpoint mixin
@mixin breakpoint($size) {
  @media screen and (min-width: $size) {
    @content;
  }
}

// =============================================================================
// RESPONSIVE SPACING UTILITIES
// =============================================================================

// Generate responsive spacing utilities
@mixin generate-spacing($property, $prefix) {
  // Base spacing (all screen sizes)
  .#{$prefix}-0 { #{$property}: 0 !important; }
  .#{$prefix}-xs { #{$property}: $spacing-xs !important; }
  .#{$prefix}-sm { #{$property}: $spacing-sm !important; }
  .#{$prefix}-md { #{$property}: $spacing-md !important; }
  .#{$prefix}-lg { #{$property}: $spacing-lg !important; }
  .#{$prefix}-xl { #{$property}: $spacing-xl !important; }
  .#{$prefix}-xxl { #{$property}: $spacing-xxl !important; }
  
  // Mobile-specific spacing
  @include mobile-only {
    .mobile\:#{$prefix}-0 { #{$property}: 0 !important; }
    .mobile\:#{$prefix}-xs { #{$property}: $spacing-xs !important; }
    .mobile\:#{$prefix}-sm { #{$property}: $spacing-sm !important; }
    .mobile\:#{$prefix}-md { #{$property}: $spacing-md !important; }
    .mobile\:#{$prefix}-lg { #{$property}: $spacing-lg !important; }
    .mobile\:#{$prefix}-xl { #{$property}: $spacing-xl !important; }
    .mobile\:#{$prefix}-xxl { #{$property}: $spacing-xxl !important; }
  }
  
  // Tablet-specific spacing
  @include tablet-up {
    .tablet\:#{$prefix}-0 { #{$property}: 0 !important; }
    .tablet\:#{$prefix}-xs { #{$property}: $spacing-xs !important; }
    .tablet\:#{$prefix}-sm { #{$property}: $spacing-sm !important; }
    .tablet\:#{$prefix}-md { #{$property}: $spacing-md !important; }
    .tablet\:#{$prefix}-lg { #{$property}: $spacing-lg !important; }
    .tablet\:#{$prefix}-xl { #{$property}: $spacing-xl !important; }
    .tablet\:#{$prefix}-xxl { #{$property}: $spacing-xxl !important; }
  }
  
  // Desktop-specific spacing
  @include desktop-up {
    .desktop\:#{$prefix}-0 { #{$property}: 0 !important; }
    .desktop\:#{$prefix}-xs { #{$property}: $spacing-xs !important; }
    .desktop\:#{$prefix}-sm { #{$property}: $spacing-sm !important; }
    .desktop\:#{$prefix}-md { #{$property}: $spacing-md !important; }
    .desktop\:#{$prefix}-lg { #{$property}: $spacing-lg !important; }
    .desktop\:#{$prefix}-xl { #{$property}: $spacing-xl !important; }
    .desktop\:#{$prefix}-xxl { #{$property}: $spacing-xxl !important; }
  }
}

// Generate all spacing utilities
@include generate-spacing(margin, 'm');
@include generate-spacing(margin-top, 'mt');
@include generate-spacing(margin-right, 'mr');
@include generate-spacing(margin-bottom, 'mb');
@include generate-spacing(margin-left, 'ml');
@include generate-spacing(padding, 'p');
@include generate-spacing(padding-top, 'pt');
@include generate-spacing(padding-right, 'pr');
@include generate-spacing(padding-bottom, 'pb');
@include generate-spacing(padding-left, 'pl');

// Horizontal and vertical spacing
.mx-auto { margin-left: auto !important; margin-right: auto !important; }
.my-0 { margin-top: 0 !important; margin-bottom: 0 !important; }
.my-sm { margin-top: $spacing-sm !important; margin-bottom: $spacing-sm !important; }
.my-md { margin-top: $spacing-md !important; margin-bottom: $spacing-md !important; }
.my-lg { margin-top: $spacing-lg !important; margin-bottom: $spacing-lg !important; }
.my-xl { margin-top: $spacing-xl !important; margin-bottom: $spacing-xl !important; }

.mx-0 { margin-left: 0 !important; margin-right: 0 !important; }
.mx-sm { margin-left: $spacing-sm !important; margin-right: $spacing-sm !important; }
.mx-md { margin-left: $spacing-md !important; margin-right: $spacing-md !important; }
.mx-lg { margin-left: $spacing-lg !important; margin-right: $spacing-lg !important; }
.mx-xl { margin-left: $spacing-xl !important; margin-right: $spacing-xl !important; }

.px-0 { padding-left: 0 !important; padding-right: 0 !important; }
.px-sm { padding-left: $spacing-sm !important; padding-right: $spacing-sm !important; }
.px-md { padding-left: $spacing-md !important; padding-right: $spacing-md !important; }
.px-lg { padding-left: $spacing-lg !important; padding-right: $spacing-lg !important; }
.px-xl { padding-left: $spacing-xl !important; padding-right: $spacing-xl !important; }

.py-0 { padding-top: 0 !important; padding-bottom: 0 !important; }
.py-sm { padding-top: $spacing-sm !important; padding-bottom: $spacing-sm !important; }
.py-md { padding-top: $spacing-md !important; padding-bottom: $spacing-md !important; }
.py-lg { padding-top: $spacing-lg !important; padding-bottom: $spacing-lg !important; }
.py-xl { padding-top: $spacing-xl !important; padding-bottom: $spacing-xl !important; }

// =============================================================================
// RESPONSIVE DISPLAY UTILITIES
// =============================================================================

// Base display utilities
.block { display: block !important; }
.inline { display: inline !important; }
.inline-block { display: inline-block !important; }
.flex { display: flex !important; }
.inline-flex { display: inline-flex !important; }
.grid { display: grid !important; }
.hidden { display: none !important; }

// Mobile display utilities
@include mobile-only {
  .mobile\:block { display: block !important; }
  .mobile\:inline { display: inline !important; }
  .mobile\:inline-block { display: inline-block !important; }
  .mobile\:flex { display: flex !important; }
  .mobile\:inline-flex { display: inline-flex !important; }
  .mobile\:grid { display: grid !important; }
  .mobile\:hidden { display: none !important; }
}

// Tablet display utilities
@include tablet-up {
  .tablet\:block { display: block !important; }
  .tablet\:inline { display: inline !important; }
  .tablet\:inline-block { display: inline-block !important; }
  .tablet\:flex { display: flex !important; }
  .tablet\:inline-flex { display: inline-flex !important; }
  .tablet\:grid { display: grid !important; }
  .tablet\:hidden { display: none !important; }
}

// Desktop display utilities
@include desktop-up {
  .desktop\:block { display: block !important; }
  .desktop\:inline { display: inline !important; }
  .desktop\:inline-block { display: inline-block !important; }
  .desktop\:flex { display: flex !important; }
  .desktop\:inline-flex { display: inline-flex !important; }
  .desktop\:grid { display: grid !important; }
  .desktop\:hidden { display: none !important; }
}

// =============================================================================
// RESPONSIVE FLEXBOX UTILITIES
// =============================================================================

// Flex direction
.flex-row { flex-direction: row !important; }
.flex-row-reverse { flex-direction: row-reverse !important; }
.flex-col { flex-direction: column !important; }
.flex-col-reverse { flex-direction: column-reverse !important; }

@include mobile-only {
  .mobile\:flex-row { flex-direction: row !important; }
  .mobile\:flex-row-reverse { flex-direction: row-reverse !important; }
  .mobile\:flex-col { flex-direction: column !important; }
  .mobile\:flex-col-reverse { flex-direction: column-reverse !important; }
}

@include tablet-up {
  .tablet\:flex-row { flex-direction: row !important; }
  .tablet\:flex-row-reverse { flex-direction: row-reverse !important; }
  .tablet\:flex-col { flex-direction: column !important; }
  .tablet\:flex-col-reverse { flex-direction: column-reverse !important; }
}

@include desktop-up {
  .desktop\:flex-row { flex-direction: row !important; }
  .desktop\:flex-row-reverse { flex-direction: row-reverse !important; }
  .desktop\:flex-col { flex-direction: column !important; }
  .desktop\:flex-col-reverse { flex-direction: column-reverse !important; }
}

// Flex wrap
.flex-wrap { flex-wrap: wrap !important; }
.flex-nowrap { flex-wrap: nowrap !important; }
.flex-wrap-reverse { flex-wrap: wrap-reverse !important; }

// Justify content
.justify-start { justify-content: flex-start !important; }
.justify-end { justify-content: flex-end !important; }
.justify-center { justify-content: center !important; }
.justify-between { justify-content: space-between !important; }
.justify-around { justify-content: space-around !important; }
.justify-evenly { justify-content: space-evenly !important; }

// Align items
.items-start { align-items: flex-start !important; }
.items-end { align-items: flex-end !important; }
.items-center { align-items: center !important; }
.items-baseline { align-items: baseline !important; }
.items-stretch { align-items: stretch !important; }

// Align self
.self-auto { align-self: auto !important; }
.self-start { align-self: flex-start !important; }
.self-end { align-self: flex-end !important; }
.self-center { align-self: center !important; }
.self-stretch { align-self: stretch !important; }

// Flex grow/shrink
.flex-1 { flex: 1 1 0% !important; }
.flex-auto { flex: 1 1 auto !important; }
.flex-initial { flex: 0 1 auto !important; }
.flex-none { flex: none !important; }

// =============================================================================
// RESPONSIVE TEXT UTILITIES
// =============================================================================

// Text alignment
.text-left { text-align: left !important; }
.text-center { text-align: center !important; }
.text-right { text-align: right !important; }
.text-justify { text-align: justify !important; }

@include mobile-only {
  .mobile\:text-left { text-align: left !important; }
  .mobile\:text-center { text-align: center !important; }
  .mobile\:text-right { text-align: right !important; }
}

@include tablet-up {
  .tablet\:text-left { text-align: left !important; }
  .tablet\:text-center { text-align: center !important; }
  .tablet\:text-right { text-align: right !important; }
}

@include desktop-up {
  .desktop\:text-left { text-align: left !important; }
  .desktop\:text-center { text-align: center !important; }
  .desktop\:text-right { text-align: right !important; }
}

// =============================================================================
// RESPONSIVE GRID UTILITIES
// =============================================================================

// Grid columns
.grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)) !important; }
.grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)) !important; }
.grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)) !important; }
.grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)) !important; }

@include mobile-only {
  .mobile\:grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)) !important; }
  .mobile\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)) !important; }
}

@include tablet-up {
  .tablet\:grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)) !important; }
  .tablet\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)) !important; }
  .tablet\:grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)) !important; }
  .tablet\:grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)) !important; }
}

@include desktop-up {
  .desktop\:grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)) !important; }
  .desktop\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)) !important; }
  .desktop\:grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)) !important; }
  .desktop\:grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)) !important; }
  .desktop\:grid-cols-5 { grid-template-columns: repeat(5, minmax(0, 1fr)) !important; }
}

// Grid gap
.gap-0 { gap: 0 !important; }
.gap-sm { gap: $spacing-sm !important; }
.gap-md { gap: $spacing-md !important; }
.gap-lg { gap: $spacing-lg !important; }
.gap-xl { gap: $spacing-xl !important; }

// =============================================================================
// RESPONSIVE WIDTH UTILITIES
// =============================================================================

.w-full { width: 100% !important; }
.w-auto { width: auto !important; }
.w-1\/2 { width: 50% !important; }
.w-1\/3 { width: 33.333333% !important; }
.w-2\/3 { width: 66.666667% !important; }
.w-1\/4 { width: 25% !important; }
.w-3\/4 { width: 75% !important; }

// Max width
.max-w-none { max-width: none !important; }
.max-w-xs { max-width: 320px !important; }
.max-w-sm { max-width: 384px !important; }
.max-w-md { max-width: 448px !important; }
.max-w-lg { max-width: 512px !important; }
.max-w-xl { max-width: 576px !important; }
.max-w-2xl { max-width: 672px !important; }
.max-w-3xl { max-width: 768px !important; }
.max-w-4xl { max-width: 896px !important; }
.max-w-5xl { max-width: 1024px !important; }
.max-w-6xl { max-width: 1152px !important; }
.max-w-7xl { max-width: 1280px !important; }
.max-w-full { max-width: 100% !important; }

// =============================================================================
// RESPONSIVE VISIBILITY UTILITIES
// =============================================================================

// Show only on specific breakpoints
@include mobile-only {
  .show-mobile-only { display: block !important; }
  .hide-mobile { display: none !important; }
}

@include tablet-only {
  .show-tablet-only { display: block !important; }
}

@include tablet-up {
  .show-mobile-only { display: none !important; }
  .hide-tablet-up { display: none !important; }
  .show-tablet-up { display: block !important; }
}

@include desktop-up {
  .show-tablet-only { display: none !important; }
  .hide-desktop { display: none !important; }
  .show-desktop { display: block !important; }
}

// =============================================================================
// COMPONENT-SPECIFIC RESPONSIVE BEHAVIOR
// =============================================================================

// Responsive navigation (enhance existing styles)
.site-nav {
  @include mobile-only {
    .page-link {
      display: block;
      margin: $spacing-xs 0;
      padding: $spacing-sm;
      text-align: center;
    }
  }
  
  @include tablet-up {
    .page-link {
      display: inline-block;
      margin: 0 $spacing-md;
    }
  }
}

// Responsive book grid adjustments
.books-grid {
  @include mobile-only {
    gap: $spacing-md;
    grid-template-columns: 1fr;
  }
}

// Responsive typography scaling
@include mobile-only {
  .responsive-title {
    font-size: $h2-font-size;
    line-height: 1.2;
  }
}

@include desktop-up {
  .responsive-title {
    font-size: $h1-font-size * 1.2;
    line-height: 1.1;
  }
}